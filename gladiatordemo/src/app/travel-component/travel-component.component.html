<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buy Travel Insurance</title>
</head>

<body>





    <div class="formrow">
        <div class="formmain">


            <div class="formcard" *ngIf='showRegisterForm'>
                <h2 style="text-align: center; ">Fill Details Of Your Travel</h2><br><br>
                <form #travelRegisterForm='ngForm' (ngSubmit)='showform2()'>
                    <div class="formcontainer">
                        <label for="startingDate" class="labels "><b>Starting date of your journey</b></label><br>
                        <input type="date" placeholder="Enter the date" name="startingDate" [(ngModel)]=travel.startDateOfJourney min={{FromDate}} required #startingDateControl="ngModel"><br>
                        <span style="color: red;" *ngIf="startingDateControl.invalid && startingDateControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span>
                        <br><br>
                        
                        <label for="endingDate" class="labels "><b>Ending date of your journey</b></label><br>
                        <input type="date" placeholder="Enter the date" name="endingDate" [(ngModel)]=travel.endDateOfJourney min={{travel.startDateOfJourney}} required #endingDateControl="ngModel"><br>
                        <span style="color: red;" *ngIf="endingDateControl.invalid && endingDateControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span>
                        <br><br>

                        <label for="departureLocation"><b>Departure location</b></label><br>
                        <input type="text" placeholder="Enter departure location" name="departureLocation" [(ngModel)]=travel.departureLocation required #departureLocationControl="ngModel"><br>
                        <span style="color: red;" *ngIf="departureLocationControl.invalid && departureLocationControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span>
                        <br><br>

                        <label for="arrivalLocation"><b>Arrival location</b></label><br>
                        <input type="text" placeholder="Enter arrival location" name="arrivalLocation" [(ngModel)]=travel.arrivalLocation required #arrivalLocationControl="ngModel"><br>
                        <span style="color: red;" *ngIf="arrivalLocationControl.invalid && arrivalLocationControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span>
                        <br><br>

                        <label for="modeOfTravel"><b>Mode of Travel</b></label><br>
                        <select id="modeOfTravel" name="modeOfTravel" [(ngModel)]=travel.modeOfTravel required #modeOfTravelControl="ngModel">
                        <option value="Bus">Bus 
                        <option value="Car">Car 
                        <option value="Train">Train
                        <option value="Airplane">Airplane
                        <option value="Ship">Ship
                        </select><br>
                        <span style="color: red;" *ngIf="modeOfTravelControl.invalid && modeOfTravelControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span>
                        <br><br>
                        
                        <label for="travelCost" class="labels"><b>Travel Cost</b></label><br>
                        <input type="text" placeholder="Enter travel cost" id="travelCost" name="travelCost" pattern="[0-9]*" min [(ngModel)]=travel.travelCost required #travelCostControl="ngModel"><br>
                        <span style="color: red;" *ngIf="travelCostControl.invalid && travelCostControl.touched"> 
                            <b>Feild Can't be Empty</b>
                        </span><br><br>

                        <button class="buttons" [disabled]="travelRegisterForm.invalid" type="submit" ><h2> Submit</h2></button>
                    </div>
                </form>
            </div>
            <div class="formcard" *ngIf='showPlanForm'>
                <form #insurancePlanForm='ngForm'>
                    <div class="formcontainer">
                        
                        <div class="Form-radio" *ngFor='let p of policy'>
                            <h1><input type="radio" name="policyId" value={{p.insurancePlanId}} [(ngModel)]=buyinsurance.insurancePlanId required>
                            <label for="policyId " class="labels" style="color:khaki">{{p.insurancePlan}}</label></h1><br>
                            <h2 style="color:white">Coverage Amount : {{p.insuranceCoverageAmount}}</h2>
                        </div>
                        
                        <!-- {{buyinsurance.insurancePlanId}} -->

                        <div *ngIf='showPremium'>
                            <label for="insurancePremium" class="labels" style="color:black" ><b><h1>Premium</h1></b></label>
                            <h2>&#8377;{{buyinsurance.insurancePremium}}.00/-</h2><br>
                        </div>

                        <button class="buttons" type="submit" [disabled]="insurancePlanForm.invalid" (click)='calcPremium()'><h2> Calculate Premium</h2></button>
                        <button class="buttons" type="submit" [disabled]="insurancePlanForm.invalid" (click)='buyInsurance()'><h2> Buy Insurance</h2></button>
                    </div>
                </form> 
            </div>
        </div>
    </div>


</body>

</html>