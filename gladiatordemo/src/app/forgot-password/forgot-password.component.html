<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <div>
            <div class="formmain">
                <table class="tables">
                    <tr>
                        <td>
                            <div class="formcard">

                                <form #forgotPasswordForm='ngForm'>

                                    <div class="formcontainer" *ngIf="show">
                                        <h2 class="titleHead">Forgot password?
                                        </h2>
                                        <h4 style="color: green;">No worries, let's create a new one!</h4><br><br>

                                        <div *ngIf="show">
                                            <label><b>Enter your registered email</b></label><br><br>
                                            <input type="email" placeholder="Enter the email" name="userEmail" required [(ngModel)]="forgotPasswordDetails.userEmail" #userEmailControl="ngModel">
                                            <span style="color: red;" *ngIf="userEmailControl.invalid && userEmailControl.touched"> 
                                <b>Email is required!</b>

                                </span><br><br>
                                            <button class="buttons" type="submit" [disabled]="forgotPasswordForm.invalid" (click)="getOTP()">Get OTP </button><br><br>
                                        </div>
                                        <span style="color: red;">
                                        <b>{{message}}</b>
                                        </span>
                                    </div>
                                    <div class="formcontainer1" *ngIf="show1">

                                        <div *ngIf="show1" class="heading">

                                            <label><b>Enter the OTP sent to your registered email</b></label><br><br>
                                            <input type="number" placeholder="Enter the OTP" name="userOTP" required [(ngModel)]="forgotPasswordDetails.userOTP" #userOTPControl="ngModel">
                                            <span style="color: red;" *ngIf="userOTPControl.invalid && userOTPControl.touched"> 
                                                 <b>OTP is required!</b>

                                            </span><br><br>
                                            <button class="buttons" type="submit" [disabled]="forgotPasswordForm.invalid" (click)="verifyOTP()">Verify OTP </button><br><br>

                                        </div>
                                        <span style="color: red;">
                                        <b>{{message1}}</b>
                                        </span>
                                    </div>



                                    <div class="formcontainer2" *ngIf="show2">
                                        <div *ngIf="show2" style="padding-top: 20px;" class="heading">

                                            <label><b>Enter the new password</b></label><br><br>
                                            <input type="password" placeholder="Enter Password " name="userPass" pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[$,@,!]).{8,}$" required [(ngModel)]="forgotPasswordDetails.newUserPassword" #newUserPasswordControl="ngModel"><br><br>
                                            <span style="color: red;" *ngIf="newUserPasswordControl.invalid && newUserPasswordControl.touched"> 
                                <b>Password is required!</b>

                                </span><br><br>

                                            <label><b>Confirm the new password</b></label><br><br>
                                            <input type="password" placeholder="Enter Password " name="userPass1" pattern="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[$,@,!]).{8,}$" required [(ngModel)]="forgotPasswordDetails.newUserPasswordConfirm" #newUserPasswordConfirmControl="ngModel"><br>
                                            <span style="color: red;" *ngIf="newUserPasswordConfirmControl.invalid && newUserPasswordConfirmControl.touched"> 
                                <b>Password is required!</b>

                                </span><br><br>

                                            <button class="buttons" type="submit" [disabled]="forgotPasswordForm.invalid" (click)="resetPassword()">Reset Password</button>
                                        </div>
                                        <span style="color: red;">
                                        <b>{{message2}}</b>
                                        </span>

                                    </div>
                                    <div class="formcontainer3" *ngIf="show3">
                                        <br><br><br>
                                        <div *ngIf="show3" class="heading">
                                            <h2>Password Resetted successfully</h2>

                                        </div>
                                    </div>



                                </form>
                            </div>
                        </td>
                        <td>
                            <img class="images " src="../../assets/person2.jpg " alt=" ">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</body>

</html>